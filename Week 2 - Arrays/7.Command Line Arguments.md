
- So far, all of your programs have begun pretty much the same way.
  
  ```c
  int main(void) {}
  ```
  
- Since we’ve been collecting user input through inprogram prompts, we haven’t needed to modify this declaration of main(). 
  
- If we want the user to provide data to our program before the program starts running, we need a new form.  
  
 - To collect so called command-line arguments from the user, declare main as:
 
 ```c
 int main(int argc, string argv[]) {}
 ```
 
 - These two special arguments enable you to know what data the user provided at the command line and how much data they provided. 
 
#### argc (argument count) 

  - This integer-type variable will store the number of command-line arguments the user typed when the program was executed. 
  ![[Screenshot 2024-07-06 at 1.08.11 AM.png]]

#### argv (argument vector)

- This array of strings stores, one string per element, the actual text the user typed at the command-line when the program was executed. 

- The first element of argv is always found at argv[0]. The last element of argv is always found at argv[argc-1]. 
 - Do you see why?  
 
- argv (argument vector) 
 - Let’s assume the user executes the greedy program as follows!
 
 `./greedy 1024 cs50`
 ![[Screenshot 2024-07-06 at 1.10.09 AM.png]]
 
 
#### Additional informations



Let's explain things step by step. First of all, when you invoke your program by calling something like...

```c
./my-program arg0 arg1 arg2
```

You're passing it a series of three arguments, right? And each argument is a string, right? Now, the `main` function, can have one of two prototypes, as specified by the C standard...

```c
int main(); // Let's not worry about this for now
int main(int argc, char **argv);
```

The idea is that `main` is able to handle the arguments that you provided. `argc` provides the number of arguments. If you noticed, while passing three arguments, `argc` is 4! This happens because a first argument is passed before all others, `./my-program`, and lets your program recognize itself.

Now, what does `char **argv` mean? Something of the form `X*` is a pointer to `X`, right? So, `char *` is a pointer to `char`, and `char **` is a pointer to pointer to `char`. In C, a string is simply a zero-terminated array of `char`, and an array can be "degraded" into a pointer. This means that `argv` is an array of strings, the first of which, `argv[0]`, is the program's name.

Now, the C standard allows you to write any "compatible" prototype for `main`. For instance, you can write any of these...

```c
int main(int argc, const char *const argv[]);
int main(int argc, const char *argv[])
int main(int argc, const char **argv);
int main(int argc, const char *const *const argv);
```

You don't need to understand what they all mean now, just that `argv` is an array of strings, and that you should **never** modify strings as the original `main` prototype appears to trust you. Now, knowing that arguments start at `argv[1]`, your code...

```c
for(int i=0;i<argc-1;i++)
```

Means: "For each `i` in the range of 0 through `argc - 1`".

```c
    printf("%s",*argv[i]);
```

Means: "Print the first character of the `i`th element of `argv`". Why would this be wrong? First of all, you're printing a `char`, and telling `printf` that it is a string. **This has undefined behavior**. Then, you're iterating over the first `i`th elements of `argv`. This means that the first, "non-argument" element will be included in the mix, and the last argument won't be. To solve it, write something like...

```c
for(int i = 1; i < argc; i++)
```

Means: "For each `i` in the range from `1` up to `argc`".

```c
    printf("%s", argv[i]);
```

Means: "Print the `i`th element of `argv` to `stdout`.

`argv` is a pointer to pointer to `char`. When a list of arguments are passed through command line then an array of `char` pointers are created and each of these pointers points to each of these arguments, stored in the form of strings, along with the program name. `argv` points to the first pointer of this `char *` array. Therefore, `argv[i]` is a pointer to `char`.

```c
                           +--------------------------+
              +----+  +--> | argument 1 (program name)|
argv[0]+----> |    |  |    +--------------------------+
              |  +----+
              +----|       +--------------------------+
              |  +-------> |       argument 2         |
              |    |       +--------------------------+
              +----+
              |  +----+    +--------------------------+
              |    |  +--> |       argument 3         |
              +----+       +--------------------------+
           "char *" array
```

You need to change

```c
printf("%s",*argv[i]);  
```

to

```c
printf("%s",argv[i]);  
```

`*argv[i]` is of type `char`. `%s` expects a type of `char *`.



`source` https://stackoverflow.com/questions/35860794/how-to-print-argv-arguments-from-main-function-in-c

